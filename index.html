<!doctype html>
<html lang="en" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Be My Valentine</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&amp;family=Dancing+Script:wght@500;700&amp;display=swap" rel="stylesheet">
  <script src="/_sdk/element_sdk.js"></script>
  <style>
    body {
      box-sizing: border-box;
    }
    
    .font-display { font-family: 'Playfair Display', serif; }
    .font-script { font-family: 'Dancing Script', cursive; }
    
    @keyframes float {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(5deg); }
    }
    
    @keyframes flutter {
      0%, 100% { transform: translateX(0) translateY(0) rotate(0deg) scale(1); }
      25% { transform: translateX(10px) translateY(-15px) rotate(10deg) scale(1.05); }
      50% { transform: translateX(-5px) translateY(-25px) rotate(-5deg) scale(1); }
      75% { transform: translateX(15px) translateY(-10px) rotate(15deg) scale(1.05); }
    }
    
    @keyframes sparkle {
      0%, 100% { opacity: 0; transform: scale(0); }
      50% { opacity: 1; transform: scale(1); }
    }
    
    @keyframes pulse-glow {
      0%, 100% { filter: drop-shadow(0 0 10px rgba(147, 51, 234, 0.5)); }
      50% { filter: drop-shadow(0 0 25px rgba(147, 51, 234, 0.8)); }
    }
    
    @keyframes sway {
      0%, 100% { transform: rotate(-3deg); }
      50% { transform: rotate(3deg); }
    }
    
    @keyframes fade-in-up {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes heart-beat {
      0%, 100% { transform: scale(1); }
      15% { transform: scale(1.15); }
      30% { transform: scale(1); }
      45% { transform: scale(1.1); }
    }
    
    .butterfly {
      animation: flutter 4s ease-in-out infinite;
    }
    
    .butterfly-1 { animation-delay: 0s; }
    .butterfly-2 { animation-delay: 1s; }
    .butterfly-3 { animation-delay: 2s; }
    .butterfly-4 { animation-delay: 0.5s; }
    .butterfly-5 { animation-delay: 1.5s; }
    
    .lily {
      animation: sway 3s ease-in-out infinite;
    }
    
    .lily-1 { animation-delay: 0s; }
    .lily-2 { animation-delay: 0.5s; }
    .lily-3 { animation-delay: 1s; }
    .lily-4 { animation-delay: 1.5s; }
    
    .sparkle {
      animation: sparkle 2s ease-in-out infinite;
    }
    
    .content-animate {
      animation: fade-in-up 1s ease-out forwards;
    }
    
    .title-animate { animation-delay: 0.2s; opacity: 0; }
    .message-animate { animation-delay: 0.5s; opacity: 0; }
    .button-animate { animation-delay: 0.8s; opacity: 0; }
    
    .heart-icon {
      animation: heart-beat 1.5s ease-in-out infinite;
    }
    
    .glow-effect {
      animation: pulse-glow 2s ease-in-out infinite;
    }
    
    .yes-celebration {
      position: fixed;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, #581c87 0%, #7c3aed 50%, #c084fc 100%);
      z-index: 100;
    }
    
    @keyframes confetti-fall {
      0% { transform: translateY(-100%) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100%) rotate(720deg); opacity: 0; }
    }
    
    .confetti {
      position: absolute;
      width: 10px;
      height: 10px;
      animation: confetti-fall 3s ease-out forwards;
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full m-0 overflow-auto">
  <div id="main-container" class="min-h-full w-full relative overflow-hidden" style="background: linear-gradient(135deg, #1e1b4b 0%, #312e81 30%, #4c1d95 60%, #581c87 100%);"><!-- Sparkles Background -->
   <div class="absolute inset-0 pointer-events-none">
    <div class="sparkle absolute w-2 h-2 bg-purple-200 rounded-full" style="top: 10%; left: 15%;"></div>
    <div class="sparkle absolute w-1 h-1 bg-white rounded-full" style="top: 20%; left: 80%; animation-delay: 0.3s;"></div>
    <div class="sparkle absolute w-2 h-2 bg-purple-300 rounded-full" style="top: 40%; left: 10%; animation-delay: 0.6s;"></div>
    <div class="sparkle absolute w-1 h-1 bg-white rounded-full" style="top: 60%; left: 90%; animation-delay: 0.9s;"></div>
    <div class="sparkle absolute w-2 h-2 bg-purple-200 rounded-full" style="top: 80%; left: 25%; animation-delay: 1.2s;"></div>
    <div class="sparkle absolute w-1 h-1 bg-white rounded-full" style="top: 15%; left: 60%; animation-delay: 1.5s;"></div>
    <div class="sparkle absolute w-2 h-2 bg-purple-300 rounded-full" style="top: 70%; left: 70%; animation-delay: 1.8s;"></div>
    <div class="sparkle absolute w-1 h-1 bg-white rounded-full" style="top: 35%; left: 45%; animation-delay: 2.1s;"></div>
   </div><!-- Butterflies -->
   <div class="absolute inset-0 pointer-events-none"><!-- Butterfly 1 - Top Left -->
    <svg class="butterfly butterfly-1 absolute w-16 h-16 glow-effect" style="top: 8%; left: 8%;" viewbox="0 0 100 100"><defs>
      <lineargradient id="wing1" x1="0%" y1="0%" x2="100%" y2="100%">
       <stop offset="0%" style="stop-color:#c084fc" />
       <stop offset="50%" style="stop-color:#a855f7" />
       <stop offset="100%" style="stop-color:#7c3aed" />
      </lineargradient>
     </defs> <ellipse cx="30" cy="35" rx="25" ry="30" fill="url(#wing1)" opacity="0.9" /> <ellipse cx="70" cy="35" rx="25" ry="30" fill="url(#wing1)" opacity="0.9" /> <ellipse cx="35" cy="65" rx="18" ry="22" fill="url(#wing1)" opacity="0.8" /> <ellipse cx="65" cy="65" rx="18" ry="22" fill="url(#wing1)" opacity="0.8" /> <ellipse cx="50" cy="50" rx="4" ry="35" fill="#581c87" /> <circle cx="30" cy="30" r="5" fill="#fde68a" opacity="0.8" /> <circle cx="70" cy="30" r="5" fill="#fde68a" opacity="0.8" /> <circle cx="35" cy="60" r="3" fill="#fde68a" opacity="0.6" /> <circle cx="65" cy="60" r="3" fill="#fde68a" opacity="0.6" /> <path d="M48 15 Q45 5 42 2" stroke="#581c87" stroke-width="2" fill="none" /> <path d="M52 15 Q55 5 58 2" stroke="#581c87" stroke-width="2" fill="none" />
    </svg><!-- Butterfly 2 - Top Right -->
    <svg class="butterfly butterfly-2 absolute w-20 h-20 glow-effect" style="top: 12%; right: 12%;" viewbox="0 0 100 100"><ellipse cx="30" cy="35" rx="25" ry="30" fill="#d8b4fe" opacity="0.9" /> <ellipse cx="70" cy="35" rx="25" ry="30" fill="#d8b4fe" opacity="0.9" /> <ellipse cx="35" cy="65" rx="18" ry="22" fill="#e9d5ff" opacity="0.8" /> <ellipse cx="65" cy="65" rx="18" ry="22" fill="#e9d5ff" opacity="0.8" /> <ellipse cx="50" cy="50" rx="4" ry="35" fill="#6b21a8" /> <circle cx="28" cy="32" r="8" fill="#7c3aed" opacity="0.7" /> <circle cx="72" cy="32" r="8" fill="#7c3aed" opacity="0.7" /> <path d="M48 15 Q45 5 42 2" stroke="#6b21a8" stroke-width="2" fill="none" /> <path d="M52 15 Q55 5 58 2" stroke="#6b21a8" stroke-width="2" fill="none" />
    </svg><!-- Butterfly 3 - Middle Left -->
    <svg class="butterfly butterfly-3 absolute w-14 h-14 glow-effect" style="top: 45%; left: 5%;" viewbox="0 0 100 100"><ellipse cx="30" cy="35" rx="25" ry="30" fill="#a855f7" opacity="0.85" /> <ellipse cx="70" cy="35" rx="25" ry="30" fill="#a855f7" opacity="0.85" /> <ellipse cx="35" cy="65" rx="18" ry="22" fill="#c084fc" opacity="0.75" /> <ellipse cx="65" cy="65" rx="18" ry="22" fill="#c084fc" opacity="0.75" /> <ellipse cx="50" cy="50" rx="4" ry="35" fill="#4c1d95" /> <circle cx="30" cy="30" r="6" fill="#f0abfc" opacity="0.8" /> <circle cx="70" cy="30" r="6" fill="#f0abfc" opacity="0.8" /> <path d="M48 15 Q45 5 42 2" stroke="#4c1d95" stroke-width="2" fill="none" /> <path d="M52 15 Q55 5 58 2" stroke="#4c1d95" stroke-width="2" fill="none" />
    </svg><!-- Butterfly 4 - Middle Right -->
    <svg class="butterfly butterfly-4 absolute w-12 h-12 glow-effect" style="top: 35%; right: 8%;" viewbox="0 0 100 100"><ellipse cx="30" cy="35" rx="25" ry="30" fill="#e9d5ff" opacity="0.9" /> <ellipse cx="70" cy="35" rx="25" ry="30" fill="#e9d5ff" opacity="0.9" /> <ellipse cx="35" cy="65" rx="18" ry="22" fill="#f3e8ff" opacity="0.8" /> <ellipse cx="65" cy="65" rx="18" ry="22" fill="#f3e8ff" opacity="0.8" /> <ellipse cx="50" cy="50" rx="4" ry="35" fill="#7c3aed" /> <circle cx="28" cy="30" r="5" fill="#a855f7" opacity="0.7" /> <circle cx="72" cy="30" r="5" fill="#a855f7" opacity="0.7" /> <path d="M48 15 Q45 5 42 2" stroke="#7c3aed" stroke-width="2" fill="none" /> <path d="M52 15 Q55 5 58 2" stroke="#7c3aed" stroke-width="2" fill="none" />
    </svg><!-- Butterfly 5 - Bottom -->
    <svg class="butterfly butterfly-5 absolute w-16 h-16 glow-effect" style="bottom: 15%; left: 20%;" viewbox="0 0 100 100"><ellipse cx="30" cy="35" rx="25" ry="30" fill="#c084fc" opacity="0.9" /> <ellipse cx="70" cy="35" rx="25" ry="30" fill="#c084fc" opacity="0.9" /> <ellipse cx="35" cy="65" rx="18" ry="22" fill="#d8b4fe" opacity="0.8" /> <ellipse cx="65" cy="65" rx="18" ry="22" fill="#d8b4fe" opacity="0.8" /> <ellipse cx="50" cy="50" rx="4" ry="35" fill="#581c87" /> <circle cx="30" cy="30" r="7" fill="#fde68a" opacity="0.7" /> <circle cx="70" cy="30" r="7" fill="#fde68a" opacity="0.7" /> <path d="M48 15 Q45 5 42 2" stroke="#581c87" stroke-width="2" fill="none" /> <path d="M52 15 Q55 5 58 2" stroke="#581c87" stroke-width="2" fill="none" />
    </svg>
   </div><!-- Purple Lilies -->
   <div class="absolute inset-0 pointer-events-none"><!-- Lily Bottom Left -->
    <svg class="lily lily-1 absolute w-32 h-40" style="bottom: 0; left: 0; transform-origin: bottom center;" viewbox="0 0 120 150"><defs>
      <lineargradient id="lilyPetal1" x1="0%" y1="0%" x2="100%" y2="100%">
       <stop offset="0%" style="stop-color:#e9d5ff" />
       <stop offset="50%" style="stop-color:#c084fc" />
       <stop offset="100%" style="stop-color:#9333ea" />
      </lineargradient>
      <lineargradient id="stem1" x1="0%" y1="0%" x2="100%" y2="0%">
       <stop offset="0%" style="stop-color:#15803d" />
       <stop offset="100%" style="stop-color:#22c55e" />
      </lineargradient>
     </defs> <path d="M60 150 Q55 100 60 60" stroke="url(#stem1)" stroke-width="4" fill="none" /> <ellipse cx="60" cy="40" rx="8" ry="30" fill="url(#lilyPetal1)" transform="rotate(-30 60 40)" /> <ellipse cx="60" cy="40" rx="8" ry="30" fill="url(#lilyPetal1)" transform="rotate(30 60 40)" /> <ellipse cx="60" cy="40" rx="8" ry="30" fill="url(#lilyPetal1)" transform="rotate(-60 60 40)" /> <ellipse cx="60" cy="40" rx="8" ry="30" fill="url(#lilyPetal1)" transform="rotate(60 60 40)" /> <ellipse cx="60" cy="40" rx="8" ry="30" fill="url(#lilyPetal1)" transform="rotate(0 60 40)" /> <ellipse cx="60" cy="40" rx="8" ry="30" fill="url(#lilyPetal1)" transform="rotate(90 60 40)" /> <circle cx="60" cy="40" r="6" fill="#fde047" /> <line x1="60" y1="34" x2="60" y2="20" stroke="#92400e" stroke-width="1.5" /> <line x1="55" y1="36" x2="50" y2="22" stroke="#92400e" stroke-width="1.5" /> <line x1="65" y1="36" x2="70" y2="22" stroke="#92400e" stroke-width="1.5" /> <circle cx="60" cy="18" r="2" fill="#92400e" /> <circle cx="49" cy="20" r="2" fill="#92400e" /> <circle cx="71" cy="20" r="2" fill="#92400e" />
    </svg><!-- Lily Bottom Right -->
    <svg class="lily lily-2 absolute w-36 h-44" style="bottom: 0; right: 0; transform-origin: bottom center;" viewbox="0 0 120 150"><path d="M60 150 Q65 100 60 55" stroke="url(#stem1)" stroke-width="4" fill="none" /> <ellipse cx="60" cy="35" rx="9" ry="32" fill="url(#lilyPetal1)" transform="rotate(-25 60 35)" /> <ellipse cx="60" cy="35" rx="9" ry="32" fill="url(#lilyPetal1)" transform="rotate(25 60 35)" /> <ellipse cx="60" cy="35" rx="9" ry="32" fill="url(#lilyPetal1)" transform="rotate(-55 60 35)" /> <ellipse cx="60" cy="35" rx="9" ry="32" fill="url(#lilyPetal1)" transform="rotate(55 60 35)" /> <ellipse cx="60" cy="35" rx="9" ry="32" fill="url(#lilyPetal1)" transform="rotate(0 60 35)" /> <ellipse cx="60" cy="35" rx="9" ry="32" fill="url(#lilyPetal1)" transform="rotate(85 60 35)" /> <circle cx="60" cy="35" r="7" fill="#fde047" /> <line x1="60" y1="28" x2="60" y2="14" stroke="#92400e" stroke-width="1.5" /> <line x1="54" y1="30" x2="48" y2="16" stroke="#92400e" stroke-width="1.5" /> <line x1="66" y1="30" x2="72" y2="16" stroke="#92400e" stroke-width="1.5" /> <circle cx="60" cy="12" r="2" fill="#92400e" /> <circle cx="47" cy="14" r="2" fill="#92400e" /> <circle cx="73" cy="14" r="2" fill="#92400e" />
    </svg><!-- Lily Left Side -->
    <svg class="lily lily-3 absolute w-28 h-36" style="bottom: 10%; left: 10%; transform-origin: bottom center;" viewbox="0 0 120 150"><path d="M60 150 Q58 110 60 70" stroke="url(#stem1)" stroke-width="3" fill="none" /> <ellipse cx="60" cy="50" rx="7" ry="26" fill="url(#lilyPetal1)" transform="rotate(-35 60 50)" /> <ellipse cx="60" cy="50" rx="7" ry="26" fill="url(#lilyPetal1)" transform="rotate(35 60 50)" /> <ellipse cx="60" cy="50" rx="7" ry="26" fill="url(#lilyPetal1)" transform="rotate(-70 60 50)" /> <ellipse cx="60" cy="50" rx="7" ry="26" fill="url(#lilyPetal1)" transform="rotate(70 60 50)" /> <ellipse cx="60" cy="50" rx="7" ry="26" fill="url(#lilyPetal1)" transform="rotate(0 60 50)" /> <circle cx="60" cy="50" r="5" fill="#fde047" /> <line x1="60" y1="45" x2="60" y2="35" stroke="#92400e" stroke-width="1" /> <line x1="56" y1="47" x2="52" y2="37" stroke="#92400e" stroke-width="1" /> <line x1="64" y1="47" x2="68" y2="37" stroke="#92400e" stroke-width="1" /> <circle cx="60" cy="34" r="1.5" fill="#92400e" /> <circle cx="51" cy="36" r="1.5" fill="#92400e" /> <circle cx="69" cy="36" r="1.5" fill="#92400e" />
    </svg><!-- Lily Right Side -->
    <svg class="lily lily-4 absolute w-24 h-32" style="bottom: 8%; right: 15%; transform-origin: bottom center;" viewbox="0 0 120 150"><path d="M60 150 Q62 115 60 75" stroke="url(#stem1)" stroke-width="3" fill="none" /> <ellipse cx="60" cy="55" rx="6" ry="24" fill="url(#lilyPetal1)" transform="rotate(-30 60 55)" /> <ellipse cx="60" cy="55" rx="6" ry="24" fill="url(#lilyPetal1)" transform="rotate(30 60 55)" /> <ellipse cx="60" cy="55" rx="6" ry="24" fill="url(#lilyPetal1)" transform="rotate(-65 60 55)" /> <ellipse cx="60" cy="55" rx="6" ry="24" fill="url(#lilyPetal1)" transform="rotate(65 60 55)" /> <ellipse cx="60" cy="55" rx="6" ry="24" fill="url(#lilyPetal1)" transform="rotate(0 60 55)" /> <circle cx="60" cy="55" r="5" fill="#fde047" /> <line x1="60" y1="50" x2="60" y2="40" stroke="#92400e" stroke-width="1" /> <line x1="56" y1="52" x2="52" y2="42" stroke="#92400e" stroke-width="1" /> <line x1="64" y1="52" x2="68" y2="42" stroke="#92400e" stroke-width="1" /> <circle cx="60" cy="39" r="1.5" fill="#92400e" /> <circle cx="51" cy="41" r="1.5" fill="#92400e" /> <circle cx="69" cy="41" r="1.5" fill="#92400e" />
    </svg>
   </div><!-- Main Content -->
   <div class="relative z-10 flex flex-col items-center justify-center min-h-full px-6 py-12"><!-- Heart Icon -->
    <div class="heart-icon mb-6">
     <svg class="w-20 h-20 text-pink-400 drop-shadow-lg" viewbox="0 0 100 100" fill="currentColor"><path d="M50 88 C20 60 5 45 5 30 C5 15 18 5 32 5 C42 5 48 12 50 18 C52 12 58 5 68 5 C82 5 95 15 95 30 C95 45 80 60 50 88Z" /> <ellipse cx="30" cy="28" rx="8" ry="6" fill="rgba(255,255,255,0.3)" />
     </svg>
    </div><!-- Title -->
    <h1 id="main-title" class="content-animate title-animate font-script text-5xl md:text-7xl text-center text-white mb-6 drop-shadow-lg" style="text-shadow: 0 0 30px rgba(192, 132, 252, 0.8);">Will You Be My Valentine?</h1><!-- Decorative Line -->
    <div class="flex items-center gap-4 mb-8 content-animate title-animate" style="animation-delay: 0.3s; opacity: 0;">
     <div class="w-16 h-0.5 bg-gradient-to-r from-transparent to-purple-300"></div><span class="text-2xl">üíú</span>
     <div class="w-16 h-0.5 bg-gradient-to-l from-transparent to-purple-300"></div>
    </div><!-- Message -->
    <p id="love-message" class="content-animate message-animate font-display text-xl md:text-2xl text-center text-purple-100 max-w-lg mb-10 leading-relaxed" style="text-shadow: 0 2px 10px rgba(0,0,0,0.3);">Every moment with you feels like a beautiful dream. You make my heart flutter like a butterfly in a garden of lilies. üíê</p><!-- Buttons -->
    <div class="flex flex-col sm:flex-row gap-6 items-center justify-center relative" style="min-height: 80px;"><button id="yes-button" class="content-animate button-animate group relative overflow-hidden px-12 py-4 rounded-full font-display text-xl font-semibold text-white transition-all duration-300 hover:scale-105 active:scale-95" style="background: linear-gradient(135deg, #a855f7 0%, #7c3aed 50%, #6d28d9 100%); box-shadow: 0 10px 40px rgba(147, 51, 234, 0.5);"> <span class="relative z-10 flex items-center gap-2"> <span id="button-text">Yes! üíú</span> <span class="transform group-hover:translate-x-1 transition-transform">‚ú®</span> </span>
      <div class="absolute inset-0 bg-gradient-to-r from-pink-500 to-purple-500 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div></button> <button id="no-button" class="content-animate button-animate group relative overflow-hidden px-12 py-4 rounded-full font-display text-xl font-semibold text-white transition-all duration-200" style="background: linear-gradient(135deg, #64748b 0%, #475569 50%, #334155 100%); box-shadow: 0 8px 30px rgba(71, 85, 105, 0.4); position: absolute;"> <span class="relative z-10 flex items-center gap-2"> <span>No üò¢</span> </span> </button>
    </div><!-- Small hearts decoration -->
    <div class="mt-8 flex gap-4 text-2xl content-animate" style="animation-delay: 1s; opacity: 0;"><span class="animate-bounce" style="animation-delay: 0s;">üíú</span> <span class="animate-bounce" style="animation-delay: 0.2s;">ü¶ã</span> <span class="animate-bounce" style="animation-delay: 0.4s;">üíú</span>
    </div>
   </div><!-- Celebration Screen (Hidden by default) -->
   <div id="celebration" class="yes-celebration hidden">
    <div class="text-center px-6">
     <div class="text-8xl mb-8 heart-icon">
      üíú
     </div>
     <h2 class="font-script text-5xl md:text-7xl text-white mb-6" style="text-shadow: 0 0 30px rgba(255,255,255,0.5);">You Make Me So Happy! I can't wait to have this moments in person someday</h2>
     <p class="font-display text-2xl text-purple-100 mb-8">I can't wait to spend Valentine's Day with you! ü¶ã‚ù§Ô∏è</p>
     <div class="flex justify-center gap-4 text-4xl"><span>üíê</span> <span>ü¶ã</span> <span>‚ù§Ô∏è</span> <span>ü¶ã</span> <span>üíê</span>
     </div>
    </div><!-- Confetti will be added here by JS -->
   </div>
  </div>
  <script>
    const defaultConfig = {
      main_title: "Will You Be My Valentine?",
      love_message: "Every moment with you feels like a beautiful dream. I love you for life baby ‚ù§Ô∏èüíê",
      button_text: "Yes! üíú",
      primary_color: "#a855f7",
      secondary_color: "#7c3aed",
      text_color: "#ffffff",
      accent_color: "#c084fc",
      background_color: "#4c1d95"
    };
    
    let config = { ...defaultConfig };
    
    async function onConfigChange(cfg) {
      config = { ...defaultConfig, ...cfg };
      
      // Update title
      const titleEl = document.getElementById('main-title');
      if (titleEl) titleEl.textContent = config.main_title || defaultConfig.main_title;
      
      // Update message
      const messageEl = document.getElementById('love-message');
      if (messageEl) messageEl.textContent = config.love_message || defaultConfig.love_message;
      
      // Update button text
      const buttonTextEl = document.getElementById('button-text');
      if (buttonTextEl) buttonTextEl.textContent = config.button_text || defaultConfig.button_text;
      
      // Update colors
      const primaryColor = config.primary_color || defaultConfig.primary_color;
      const secondaryColor = config.secondary_color || defaultConfig.secondary_color;
      const textColor = config.text_color || defaultConfig.text_color;
      const accentColor = config.accent_color || defaultConfig.accent_color;
      const backgroundColor = config.background_color || defaultConfig.background_color;
      
      // Apply background color
      const mainContainer = document.getElementById('main-container');
      if (mainContainer) {
        mainContainer.style.background = `linear-gradient(135deg, #1e1b4b 0%, #312e81 30%, ${backgroundColor} 60%, #581c87 100%)`;
      }
      
      // Apply button colors
      const yesButton = document.getElementById('yes-button');
      if (yesButton) {
        yesButton.style.background = `linear-gradient(135deg, ${primaryColor} 0%, ${secondaryColor} 50%, #6d28d9 100%)`;
      }
      
      // Apply text colors
      if (titleEl) titleEl.style.color = textColor;
      if (messageEl) messageEl.style.color = accentColor;
    }
    
    function mapToCapabilities(cfg) {
      return {
        recolorables: [
          {
            get: () => cfg.background_color || defaultConfig.background_color,
            set: (value) => {
              cfg.background_color = value;
              if (window.elementSdk) window.elementSdk.setConfig({ background_color: value });
            }
          },
          {
            get: () => cfg.accent_color || defaultConfig.accent_color,
            set: (value) => {
              cfg.accent_color = value;
              if (window.elementSdk) window.elementSdk.setConfig({ accent_color: value });
            }
          },
          {
            get: () => cfg.text_color || defaultConfig.text_color,
            set: (value) => {
              cfg.text_color = value;
              if (window.elementSdk) window.elementSdk.setConfig({ text_color: value });
            }
          },
          {
            get: () => cfg.primary_color || defaultConfig.primary_color,
            set: (value) => {
              cfg.primary_color = value;
              if (window.elementSdk) window.elementSdk.setConfig({ primary_color: value });
            }
          },
          {
            get: () => cfg.secondary_color || defaultConfig.secondary_color,
            set: (value) => {
              cfg.secondary_color = value;
              if (window.elementSdk) window.elementSdk.setConfig({ secondary_color: value });
            }
          }
        ],
        borderables: [],
        fontEditable: undefined,
        fontSizeable: undefined
      };
    }
    
    function mapToEditPanelValues(cfg) {
      return new Map([
        ["main_title", cfg.main_title || defaultConfig.main_title],
        ["love_message", cfg.love_message || defaultConfig.love_message],
        ["button_text", cfg.button_text || defaultConfig.button_text]
      ]);
    }
    
    // Initialize SDK
    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities,
        mapToEditPanelValues
      });
    }
    
    // No button runs away
    const noButton = document.getElementById('no-button');
    let noButtonPosition = { top: 50, left: 50 }; // percentage
    
    function moveNoButton() {
      const container = document.getElementById('main-container');
      const containerRect = container.getBoundingClientRect();
      const buttonRect = noButton.getBoundingClientRect();
      
      // Calculate safe boundaries (keep button within viewport)
      const maxTop = 85; // percentage
      const minTop = 15;
      const maxLeft = 85;
      const minLeft = 15;
      
      // Generate random position
      let newTop = Math.random() * (maxTop - minTop) + minTop;
      let newLeft = Math.random() * (maxLeft - minLeft) + minLeft;
      
      // Make sure it's far from current position
      const distanceThreshold = 20; // minimum distance in percentage
      const distance = Math.sqrt(Math.pow(newTop - noButtonPosition.top, 2) + Math.pow(newLeft - noButtonPosition.left, 2));
      
      if (distance < distanceThreshold) {
        // If too close, move to opposite side
        newTop = noButtonPosition.top > 50 ? minTop + Math.random() * 20 : maxTop - Math.random() * 20;
        newLeft = noButtonPosition.left > 50 ? minLeft + Math.random() * 20 : maxLeft - Math.random() * 20;
      }
      
      noButtonPosition = { top: newTop, left: newLeft };
      noButton.style.top = newTop + '%';
      noButton.style.left = newLeft + '%';
      noButton.style.transform = 'translate(-50%, -50%)';
    }
    
    // Initialize No button position
    noButton.style.top = '50%';
    noButton.style.left = '70%';
    noButton.style.transform = 'translate(-50%, -50%)';
    
    // Move button on mouseenter (when mouse gets close)
    noButton.addEventListener('mouseenter', moveNoButton);
    
    // Also move on touch devices
    noButton.addEventListener('touchstart', function(e) {
      e.preventDefault();
      moveNoButton();
    });
    
    // Yes button click handler
    document.getElementById('yes-button').addEventListener('click', function() {
      const celebration = document.getElementById('celebration');
      celebration.classList.remove('hidden');
      
      // Add confetti
      const colors = ['#a855f7', '#c084fc', '#e9d5ff', '#f0abfc', '#fde68a', '#f472b6'];
      for (let i = 0; i < 50; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.left = Math.random() * 100 + '%';
        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        confetti.style.animationDelay = Math.random() * 2 + 's';
        confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
        celebration.appendChild(confetti);
      }
    });
    
    // Initial render
    onConfigChange(config);
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c8b22b35448e573',t:'MTc3MDIxODI1My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
